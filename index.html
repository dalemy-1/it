<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>IT Deep Review • Smart Picks IT</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="Editorial-style Amazon.it product reviews & buying advice. Real ASINs with compliant affiliate links for Italian shoppers."
  />

  <style>
    :root {
      --bg: #f3f5fb;
      --card-bg: #ffffff;
      --card-bg-soft: #f7f7ff;
      --accent: #ff7a59;
      --accent-soft: rgba(255, 122, 89, 0.12);
      --accent-dark: #cf5535;
      --text-main: #141626;
      --text-muted: #4b5563;
      --border-subtle: #e0e4f2;
      --chip-bg: #f5e7e5;
      --chip-bg-active: #111827;
      --chip-active-text: #f9fafb;
      --shadow-soft: 0 18px 45px rgba(15, 23, 42, 0.16);
      --radius-lg: 18px;
      --radius-xl: 22px;
      --radius-pill: 999px;
      --transition-fast: 0.18s ease-out;
      --font-sans: system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", Roboto, sans-serif;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: var(--font-sans);
      background: radial-gradient(circle at top left, #ffffff, #eef2ff);
      color: var(--text-main);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    img {
      max-width: 100%;
      display: block;
    }

    .page {
      max-width: 1200px;
      margin: 0 auto;
      padding: 16px 16px 64px;
    }

    /* Header / nav */

    .site-header {
      margin-bottom: 18px;
    }

    .brand-block {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }

    .brand-title {
      font-weight: 750;
      letter-spacing: 0.02em;
      font-size: 1.05rem;
    }

    .brand-subtitle {
      font-size: 0.78rem;
      color: #6b7280;
    }

    .main-nav {
      display: flex;
      gap: 8px;
      align-items: center;
      font-size: 0.82rem;
    }

    .nav-pill {
      padding: 6px 18px;
      border-radius: 999px;
      background: transparent;
      border: 1px solid transparent;
      color: #4b5563;
      cursor: pointer;
      transition: all var(--transition-fast);
      font-size: 0.8rem;
    }

    .nav-pill:hover {
      background: rgba(15, 23, 42, 0.03);
      transform: translateY(-1px);
    }

    .nav-pill--primary {
      background: #111827;
      color: #f9fafb;
      box-shadow: 0 10px 24px rgba(15, 23, 42, 0.18);
    }

    .nav-pill--primary:hover {
      background: #020617;
    }

    .nav-pill-hub {
      font-weight: 600;
      background: #020617;
      color: #f9fafb;
      box-shadow: 0 10px 24px rgba(15, 23, 42, 0.28);
    }

    /* Hero cards */

    .hero-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.8fr) minmax(0, 1.4fr);
      gap: 18px;
      margin-top: 10px;
      margin-bottom: 22px;
    }

    .hero-card {
      border-radius: 26px;
      padding: 20px 22px 18px;
      border: 1px solid rgba(209, 213, 219, 0.8);
      box-shadow: 0 22px 55px rgba(15, 23, 42, 0.15);
      position: relative;
      overflow: hidden;
      background: radial-gradient(circle at 0 0, #ffffff, #eef2ff);
    }

    .hero-card--dark {
      background: radial-gradient(circle at 0 0, #111827, #020617);
      color: #f9fafb;
      box-shadow: 0 26px 60px rgba(15, 23, 42, 0.7);
    }

    .hero-title {
      font-size: 1.05rem;
      font-weight: 750;
      letter-spacing: 0.01em;
      margin-bottom: 4px;
    }

    .hero-body {
      font-size: 0.86rem;
      color: var(--text-muted);
    }

    .hero-card--dark .hero-body {
      color: #e5e7eb;
    }

    .hero-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin: 8px 0 6px;
      font-size: 0.78rem;
    }

    .hero-badge {
      padding: 5px 10px;
      border-radius: 999px;
      background: #eef2ff;
      color: #111827;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border: 1px solid rgba(209, 213, 219, 0.8);
      white-space: nowrap;
    }

    .hero-card--dark .hero-badge {
      background: rgba(15, 23, 42, 0.85);
      color: #e5e7eb;
      border-color: rgba(55, 65, 81, 0.7);
    }

    .flag-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.75rem;
      border-radius: 999px;
      padding: 4px 10px;
      background: #111827;
      color: #f9fafb;
      box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.9);
      margin-top: 10px;
    }

    .flag-pill span:first-child {
      font-size: 0.82rem;
    }

    .hero-note-list {
      margin-top: 8px;
      font-size: 0.78rem;
      color: inherit;
      padding-left: 1.1rem;
    }

    .hero-note-list li + li {
      margin-top: 4px;
    }

    /* Filter bar */

    .filter-bar {
      margin-top: 10px;
      padding: 8px 18px 10px;
      background: #f9fafb;
      border-radius: 999px;
      border: 1px solid rgba(209, 213, 219, 0.7);
      box-shadow: 0 12px 32px rgba(15, 23, 42, 0.06);
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 10px;
      justify-content: space-between;
    }

    .chip-group {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .chip {
      border-radius: var(--radius-pill);
      padding: 4px 10px;
      font-size: 0.78rem;
      border: 1px solid transparent;
      background: rgba(255, 255, 255, 0.9);
      cursor: pointer;
      color: #111827;
      transition: background var(--transition-fast),
        transform var(--transition-fast),
        border-color var(--transition-fast);
    }

    .chip:hover {
      background: rgba(243, 244, 246, 0.9);
      transform: translateY(-1px);
    }

    .chip.is-active {
      background: var(--chip-bg-active);
      color: var(--chip-active-text);
      border-color: transparent;
      box-shadow: 0 12px 30px rgba(15, 23, 42, 0.4);
    }

    .chip-label {
      font-size: 0.8rem;
    }

    .search-box {
      display: flex;
      align-items: center;
      gap: 8px;
      flex: 1;
      justify-content: flex-end;
    }

    .search-input {
      flex: 1;
      max-width: 260px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid #d1d5db;
      font-size: 0.8rem;
      outline: none;
      background: #ffffff;
    }

    .search-input:focus {
      border-color: #111827;
      box-shadow: 0 0 0 1px #111827;
    }

    .btn-search {
      border: none;
      background: #020617;
      color: #f9fafb;
      padding: 8px 18px;
      font-size: 0.78rem;
      cursor: pointer;
      border-radius: 999px;
      box-shadow: 0 10px 24px rgba(15, 23, 42, 0.45);
      transition: background var(--transition-fast),
        transform var(--transition-fast),
        box-shadow var(--transition-fast);
      white-space: nowrap;
    }

    .btn-search:hover {
      background: #111827;
      transform: translateY(-1px);
      box-shadow: 0 14px 28px rgba(15, 23, 42, 0.5);
    }

    .product-count {
      font-size: 0.78rem;
      color: #6b7280;
      white-space: nowrap;
    }

    /* Supporting info cards */

    .support-row {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 12px;
      margin-top: 22px;
      margin-bottom: 8px;
    }

    .support-card {
      background: #ffffff;
      border-radius: 18px;
      padding: 14px 16px 14px;
      border: 1px solid #e5e7eb;
      box-shadow: 0 14px 32px rgba(15, 23, 42, 0.06);
      font-size: 0.78rem;
      color: #4b5563;
    }

    .support-card h3 {
      margin: 0 0 6px;
      font-size: 0.86rem;
      color: var(--text-main);
      font-weight: 650;
    }

    .support-card ul {
      padding-left: 1.05rem;
      margin: 6px 0 0;
    }

    .support-card ul li + li {
      margin-top: 4px;
    }

    /* Section title */

    .section-title {
      margin: 24px 0 10px;
      font-size: 0.92rem;
      font-weight: 650;
    }

    /* 产品卡片：统一高度 + 底部按钮对齐（IT） */

    .product-grid-section {
      margin-top: 4px;
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 18px;
    }

    .product-card {
      background: #ffffff;
      border-radius: 20px;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.12);
      border: 1px solid #e5e7eb;
      padding: 16px 16px 16px;
      font-size: 0.8rem;
      display: flex;
      flex-direction: column;
    }

    .product-card__media {
      margin-bottom: 10px;
      border-radius: 14px;
      overflow: hidden;
      background: #f9fafb;
    }

    .product-card__media img {
      width: 100%;
      max-height: 210px;
      object-fit: cover;
    }

    .product-card__body {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .product-meta {
      font-size: 0.72rem;
      color: #6b7280;
      margin-bottom: 4px;
      display: flex;
      justify-content: space-between;
      gap: 8px;
    }

    .product-meta span:first-child {
      text-transform: uppercase;
      letter-spacing: 0.04em;
      font-weight: 600;
    }

    .product-title {
      font-size: 0.86rem;
      font-weight: 650;
      margin: 4px 0 6px;
      color: #111827;
    }

    .product-hook {
      font-size: 0.78rem;
      color: #4b5563;
      margin: 0 0 4px;
    }

    .product-card__desc {
      flex: 1;
      font-size: 0.78rem;
      color: #4b5563;
    }

    .product-card__footer {
      margin-top: auto;
      padding-top: 10px;
      border-top: 1px solid rgba(226, 232, 240, 0.9);
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .product-price-label {
      font-size: 0.75rem;
      color: #6b7280;
    }

    .product-card__actions {
      display: flex;
      gap: 8px;
    }

    .btn {
      border-radius: 999px;
      font-size: 0.78rem;
      padding: 7px 10px;
      border: none;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      white-space: nowrap;
      flex: 1;
    }

    .btn-primary {
      background: #020617;
      color: #f9fafb;
      box-shadow: 0 12px 30px rgba(15, 23, 42, 0.38);
      border: 1px solid #020617;
    }

    .btn-primary:hover {
      background: #111827;
      transform: translateY(-1px);
    }

    .btn-secondary {
      background: #ffffff;
      color: #111827;
      border: 1px solid #d1d5db;
    }

    .btn-secondary:hover {
      background: #f9fafb;
    }

    /* Modal */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.72);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
      padding: 16px;
    }

    .modal-backdrop.is-open {
      display: flex;
    }

    .modal-dialog {
      background: #020617;
      color: #e5e7eb;
      max-width: 620px;
      width: 100%;
      border-radius: 24px;
      box-shadow: 0 32px 80px rgba(0, 0, 0, 0.65);
      position: relative;
      overflow: hidden;
    }

    .modal-inner {
      padding: 20px 22px 18px;
    }

    .modal-title {
      font-size: 0.96rem;
      font-weight: 650;
      margin-bottom: 6px;
    }

    .modal-body {
      font-size: 0.82rem;
      color: #d1d5db;
      white-space: pre-line;
    }

    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      margin-top: 16px;
    }

    .btn-modal {
      flex: 0 0 auto;
    }

    .modal-close {
      position: absolute;
      top: 10px;
      right: 14px;
      font-size: 1.2rem;
      cursor: pointer;
      color: #9ca3af;
    }

    .modal-close:hover {
      color: #f9fafb;
    }

    /* Responsive */

    @media (max-width: 960px) {
      .hero-grid {
        grid-template-columns: minmax(0, 1fr);
      }
      .support-row {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 720px) {
      .support-row {
        grid-template-columns: minmax(0, 1fr);
      }
      .filter-bar {
        border-radius: 18px;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header class="site-header">
      <div class="brand-block">
        <div>
          <div class="brand-title">IT Deep Review • Smart Picks IT</div>
          <div class="brand-subtitle">
            Editorial-style Amazon.it product reviews &amp; buying advice · Not affiliated with Amazon.
          </div>
        </div>
        <nav class="main-nav">
          <a href="https://dalemy-1.github.io/" class="nav-pill nav-pill-hub">Home</a>
          <button class="nav-pill">Buying Guide</button>
          <button class="nav-pill">About</button>
          <button class="nav-pill">Privacy</button>
          <button class="nav-pill nav-pill--primary">Affiliate Disclosure</button>
        </nav>
      </div>
    </header>

    <main>
      <section class="hero-grid">
        <article class="hero-card">
          <h1 class="hero-title">Amazon.it product cards with real ASIN links.</h1>
          <p class="hero-body">
            As an Amazon Associate I earn from qualifying purchases. Some links on this page are affiliate links.
            This page uses real Amazon.it ASINs and editorial-style summaries, displayed in a grid layout that is
            designed to be friendly for Amazon Associates.
          </p>
          <div class="hero-badges">
            <span class="hero-badge">5 broad usage categories</span>
            <span class="hero-badge">Real product images &amp; ASINs</span>
            <span class="hero-badge">Direct /dp/ links with tag applied</span>
          </div>
          <ul class="hero-note-list">
            <li>Browse a concise shortlist instead of endless result pages.</li>
            <li>Each card leads directly to the matching product page on Amazon.it.</li>
            <li>Use the filters and search box to find everyday picks quickly.</li>
          </ul>
          <div class="flag-pill">
            <span>IT</span>
            <span>Associates ID: alliance19805-21</span>
          </div>
        </article>

        <aside class="hero-card hero-card--dark">
          <h2 class="hero-title">How to use this shortlist</h2>
          <p class="hero-body">
            Each product card gives you a short editorial-style note plus a direct link to the live Amazon.it product
            page. Treat this page as a curated shortlist, not a replacement for reading the full details and reviews
            on Amazon.it.
          </p>
          <ul class="hero-note-list">
            <li>Use the category chips or focus buttons to narrow down your view by everyday usage.</li>
            <li>
              Use the search bar for ASIN, simple keywords or rough product names that match what you have in mind.
            </li>
            <li>Click “<strong>Read review</strong>” for an on-page editorial-style note.</li>
            <li>Click “<strong>Go to Amazon</strong>” to see full details, live pricing and customer reviews.</li>
          </ul>
          <p class="hero-body" style="margin-top: 8px;">
            Final pricing, availability and review scores are always determined by Amazon.it on their own pages.
          </p>
        </aside>
      </section>

      <!-- Filter bar -->
      <section class="filter-bar" aria-label="Filters and search">
        <div class="chip-group" id="categoryChips">
          <button class="chip is-active" data-filter="all">
            <span class="chip-label">All picks</span>
          </button>
          <button class="chip" data-filter="electronics">
            <span class="chip-label">Electronics &amp; Gadgets</span>
          </button>
          <button class="chip" data-filter="home">
            <span class="chip-label">Home &amp; Kitchen</span>
          </button>
          <button class="chip" data-filter="outdoor">
            <span class="chip-label">Outdoor &amp; Sports</span>
          </button>
          <button class="chip" data-filter="car">
            <span class="chip-label">Car Accessories</span>
          </button>
          <button class="chip" data-filter="office">
            <span class="chip-label">Office &amp; Daily Use</span>
          </button>
        </div>
        <div class="search-box">
          <input
            id="searchInput"
            class="search-input"
            type="search"
            placeholder="Search by title, category or ASIN on this page..."
          />
          <button id="searchBtn" class="btn-search">Search</button>
          <div id="productCount" class="product-count"></div>
        </div>
      </section>

      <!-- Supporting info row -->
      <section class="support-row">
        <article class="support-card">
          <h3>Buying guide: three quick checks before you order</h3>
          <ul>
            <li><strong>Usage context:</strong> will you use it daily, weekly or only on trips?</li>
            <li><strong>Budget tier:</strong> entry, mid-range or premium?</li>
            <li>
              <strong>2–3 priorities:</strong> e.g. battery life, noise level, size, ease of cleaning or durability.
            </li>
          </ul>
        </article>

        <article class="support-card">
          <h3>About this IT shortlist</h3>
          <p>
            All products on this page are selected from Amazon.it using publicly available information such as product
            descriptions, feature lists and typical usage scenarios. The focus is on clear, balanced everyday picks
            rather than chasing the newest or most expensive models.
          </p>
          <p>
            We do not claim that any single item here is objectively the “best” choice for everyone. Instead, each
            entry is a snapshot of a product that could be a reasonable option for everyday use when matched to the
            right person and budget.
          </p>
        </article>

        <article class="support-card">
          <h3>Privacy &amp; data</h3>
          <p>
            This site does not collect payment details or process orders. All transactions take place on Amazon.it or
            other third-party sites after you click through an external link.
          </p>
          <p>
            Basic traffic analytics may be used to understand anonymous page usage such as page views and clicks. For
            the latest information on how your data is handled please refer to the privacy policy and terms of use
            posted on Amazon.it.
          </p>
        </article>

        <article class="support-card">
          <h3>Affiliate disclosure</h3>
          <p>
            Deep Review • Smart Picks IT participates in the Amazon Associates programme. This means that we may earn a
            small commission on qualifying purchases made through links marked as Amazon affiliate links, at no
            additional cost to you.
          </p>
          <p>
            Product selection and editorial notes are created independently and are not endorsed or pre-approved by
            Amazon. Prices, availability and promotional offers can change at any time; only the information shown on
            Amazon.it at the moment of your visit is considered current. Always double-check the live details on
            Amazon.it, including full specifications, customer reviews and the latest price, before you complete your
            purchase.
          </p>
        </article>
      </section>

      <!-- Products -->
      <section class="product-grid-section">
        <h2 class="section-title">Featured product short-list for Italian shoppers</h2>
        <div id="productGrid" class="product-grid"></div>
      </section>
    </main>
  </div>

  <!-- Review modal -->
  <div id="reviewModal" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-dialog">
      <button class="modal-close" type="button" aria-label="Close review modal">&times;</button>
      <div class="modal-inner">
        <h2 id="modalTitle" class="modal-title"></h2>
        <div id="modalBody" class="modal-body"></div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary btn-modal" id="modalCloseBtn">Close</button>
          <a
            id="modalAmazonLink"
            href="#"
            target="_blank"
            rel="nofollow noopener sponsored"
            class="btn btn-primary btn-modal"
          >
            Go to Amazon
          </a>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ------- CONFIG -------
    const COUNTRY_CODE = "IT";
    const ASSOCIATES_ID = "alliance19805-21";
    const AFFILIATE_TAG = "alliance19805-21";

    const CATEGORY_MAP = {
      electronics: "Electronics & Gadgets",
      home: "Home & Kitchen",
      outdoor: "Outdoor & Sports",
      car: "Car Accessories",
      office: "Office & Daily Use"
    };

    const CATEGORY_KEYS = ["electronics", "home", "outdoor", "car", "office"];

    // 你的 IT 站点所有 ASIN + 图片地址
    const RAW_PRODUCTS = [
      { asin: "B0DB7G2JNN", image: "https://m.media-amazon.com/images/I/61sjRYKGf7L._AC_SX679_.jpg" },
      { asin: "B0CYC7NHXP", image: "https://m.media-amazon.com/images/I/61eEntsRuLL._AC_SX679_.jpg" },
      { asin: "B0FHH2W6DD", image: "https://m.media-amazon.com/images/I/61bT8LdpDEL._AC_SY450_.jpg" },
      { asin: "B0FHW7N6V6", image: "https://m.media-amazon.com/images/I/718EKQyet8L._AC_SX679_.jpg" },
      { asin: "B0FHW797NH", image: "https://m.media-amazon.com/images/I/71MPp6zJ+GL._AC_SX679_.jpg" },
      { asin: "B0F9DWZYDN", image: "https://m.media-amazon.com/images/I/61DGxh0CeOL._AC_SX569_.jpg" },
      { asin: "B0D5CTXTZP", image: "https://m.media-amazon.com/images/I/91FlDIqJ+RL._AC_SY450_.jpg" },
      { asin: "B0FK2GH5MX", image: "https://m.media-amazon.com/images/I/61nv00H-XyL._AC_SX569_.jpg" },
      { asin: "B0FCRNPHZC", image: "https://m.media-amazon.com/images/I/71T9sJdH72L._AC_SY575_.jpg" },
      { asin: "B0FFGYMXR2", image: "https://m.media-amazon.com/images/I/61RDVQUj7QL._AC_SX679_.jpg" },
      { asin: "B0FDG38D19", image: "https://m.media-amazon.com/images/I/71f3ZFekBqL._AC_SX679_.jpg" },
      { asin: "B0C9PM9J4F", image: "https://m.media-amazon.com/images/I/61LggFD4B9L._AC_SX569_.jpg" },
      { asin: "B0F12R5Z44", image: "https://m.media-amazon.com/images/I/716SQqgb9LL._AC_SX679_.jpg" },
      { asin: "B0FFMFRZ98", image: "https://m.media-amazon.com/images/I/71i0auXYQ1L._AC_SX522_.jpg" },
      { asin: "B0F7QFCTCT", image: "https://m.media-amazon.com/images/I/81VEZYpbtyL._AC_SX569_.jpg" },
      { asin: "B0FD8SW43W", image: "https://m.media-amazon.com/images/I/613c9iEnqaL._AC_SX522_.jpg" },
      { asin: "B0DZMLL1RN", image: "https://m.media-amazon.com/images/I/81o7Sw534wL._AC_SX522_.jpg" },
      { asin: "B0FF4DSTRR", image: "https://m.media-amazon.com/images/I/41rAEeWqf6L._AC_SX679_.jpg" },
      { asin: "B0F6KD5BQS", image: "https://m.media-amazon.com/images/I/61r9MMbEJYL._AC_SX466_.jpg" },
      { asin: "B0F8VQTV65", image: "https://m.media-amazon.com/images/I/81MlB8EE0NL._AC_SX679_.jpg" },
      { asin: "B0F2J1148H", image: "https://m.media-amazon.com/images/I/61R9ZcQu40L._AC_SY450_.jpg" },
      { asin: "B0D3TH44HB", image: "https://m.media-amazon.com/images/I/61Ai10nFDWL._AC_SX522_.jpg" },
      { asin: "B0F4PG9R7B", image: "https://m.media-amazon.com/images/I/61OwT3diroL._AC_SX679_.jpg" },
      { asin: "B0CBJDV9R8", image: "https://m.media-amazon.com/images/I/71T84LDQ31L._AC_SY450_.jpg" },
      { asin: "B0F6741K2K", image: "https://m.media-amazon.com/images/I/8162RuZi6XL._AC_SX425_.jpg" },
      { asin: "B0F2S4ZPN2", image: "https://m.media-amazon.com/images/I/71wuTQKTiWL._AC_SX679_.jpg" },
      { asin: "B0F5WKP4Q4", image: "https://m.media-amazon.com/images/I/718fJtL228L.__AC_SY300_SX300_QL70_ML2_.jpg" },
      { asin: "B0F2T1VRKG", image: "https://m.media-amazon.com/images/I/71v3ap7nekL._AC_SX569_.jpg" },
      { asin: "B0DF2RDTBH", image: "https://m.media-amazon.com/images/I/61q924SwZuL._AC_SY695_.jpg" },
      { asin: "B0FH642T9W", image: "https://m.media-amazon.com/images/I/714qU0wCuOL._AC_SX522_.jpg" },
      { asin: "B0D62W4CS8", image: "https://m.media-amazon.com/images/I/61lzmP7uavL._AC_SY675_.jpg" },
      { asin: "B0D75XZHBD", image: "https://m.media-amazon.com/images/I/71K-SukHfAL._AC_SY535_.jpg" },
      { asin: "B0FQ1S235T", image: "https://m.media-amazon.com/images/I/714MrCex5sL._AC_SY535_.jpg" },
      { asin: "B0FFMFG7FT", image: "https://m.media-amazon.com/images/I/71r+OQEVdjL._AC_SX679_.jpg" },
      { asin: "B0FND7SR5L", image: "https://m.media-amazon.com/images/I/61TsU7mBw5L._AC_SX679_.jpg" },
      { asin: "B0FPM383PM", image: "https://m.media-amazon.com/images/I/81G60XooWrL._AC_SX522_.jpg" },
      { asin: "B0FFMGM1MY", image: "https://m.media-amazon.com/images/I/71ByghK1NAL._AC_SX679_.jpg" },
      { asin: "B0FXDRN7DS", image: "https://m.media-amazon.com/images/I/71nJCfZI22L._AC_SY575_.jpg" },
      { asin: "B0FQMW3YHD", image: "https://m.media-amazon.com/images/I/71xg7+JeV4L._AC_SY625_.jpg" },
      { asin: "B0FRM8KCNC", image: "https://m.media-amazon.com/images/I/51dcgYvHeBL._AC_SX522_.jpg" },
      { asin: "B0FW4SD7WD", image: "https://m.media-amazon.com/images/I/51MOEqb58XL._AC_SX569_.jpg" },
      { asin: "B0FC2HWYKY", image: "https://m.media-amazon.com/images/I/81SUOujJvOL._AC_SX679_.jpg" },
      { asin: "B0FNJZXJJX", image: "https://m.media-amazon.com/images/I/61dZo2B1FPL._AC_SX522_.jpg" },
      { asin: "B0FRLJ3ZRT", image: "https://m.media-amazon.com/images/I/81KypCZUiVL._AC_SX466_.jpg" },
      { asin: "B0FL7LWWSM", image: "https://m.media-amazon.com/images/I/71YnqsX5oLL._AC_SY535_.jpg" },
      { asin: "B0FDBCMVC8", image: "https://m.media-amazon.com/images/I/71wkiZNyaKL._AC_SX679_.jpg" },
      { asin: "B0FQMYTHZ8", image: "https://m.media-amazon.com/images/I/71gXieqjsJL._AC_SY450_.jpg" },
      { asin: "B0FM893SJS", image: "https://m.media-amazon.com/images/I/715E+flse4L._AC_SX569_.jpg" },
      { asin: "B0DL2DJ81X", image: "https://m.media-amazon.com/images/I/81l0RtzHH4L._AC_SX679_.jpg" },
      { asin: "B0FN8GK19M", image: "https://m.media-amazon.com/images/I/61IXxBfLHJL._AC_SX522_.jpg" },
      { asin: "B0FLX69KXH", image: "https://m.media-amazon.com/images/I/61Wza2umT6L._AC_SX569_.jpg" }
    ];

    const products = RAW_PRODUCTS.map((item, index) => {
      const categoryKey = CATEGORY_KEYS[index % CATEGORY_KEYS.length];
      const categoryLabel = CATEGORY_MAP[categoryKey] || CATEGORY_MAP.electronics;
      const id = index + 1;

      const baseDetails =
        `This pick is designed as a practical option in the ${categoryLabel.toLowerCase()} space for Italian ` +
        `shoppers, balancing everyday performance, ease of use and reasonable value. ` +
        `Use this shortlist as a quick way to spot products that may deserve a closer look on Amazon.it. ` +
        `Always check the live Amazon.it page for full details, price and availability.`;

      const reviewNote =
        "Short editorial-style note for this Amazon.it product.\n\n" +
        "This item is part of a curated shortlist created for Italian shoppers. " +
        "The text on this page is intentionally simple so that it never conflicts with the live details on Amazon.it.\n\n" +
        "For exact specifications, sizes, colour options, current price and full customer reviews, " +
        "please open the product page on Amazon.it.";

      return {
        id,
        asin: item.asin,
        categoryKey,
        category: categoryLabel,
        image: item.image,
        title: `Product #${id} – ${categoryLabel} Pick`,
        hook: `Everyday ${categoryLabel.toLowerCase()} pick for Italian shoppers.`,
        details: baseDetails,
        priceLabel: "Details & live price on Amazon.it",
        review: reviewNote
      };
    });

    // ------- RENDER / FILTER -------

    const gridEl = document.getElementById("productGrid");
    const countEl = document.getElementById("productCount");
    const chips = document.querySelectorAll(".chip[data-filter]");
    const searchInput = document.getElementById("searchInput");
    const searchBtn = document.getElementById("searchBtn");

    let currentFilter = "all";
    let currentQuery = "";

    function buildAmazonUrl(asin) {
      return `https://www.amazon.it/dp/${asin}?tag=${AFFILIATE_TAG}`;
    }

    function renderProducts() {
      const q = currentQuery.trim().toLowerCase();

      const list = products.filter((p) => {
        const matchCategory = currentFilter === "all" || p.categoryKey === currentFilter;
        if (!matchCategory) return false;
        if (!q) return true;
        const text = `${p.title} ${p.category} ${p.asin}`.toLowerCase();
        return text.includes(q);
      });

      gridEl.innerHTML = "";

      list.forEach((p) => {
        const card = document.createElement("article");
        card.className = "product-card";
        card.innerHTML = `
          <div class="product-card__media">
            <img src="${p.image}" alt="${p.title}" loading="lazy" />
          </div>
          <div class="product-card__body">
            <div class="product-meta">
              <span>${p.category.toUpperCase()}</span>
              <span>ASIN: ${p.asin}</span>
            </div>
            <h3 class="product-title">${p.title}</h3>
            <p class="product-hook">${p.hook}</p>
            <p class="product-card__desc">${p.details}</p>
            <div class="product-card__footer">
              <div class="product-price-label">${p.priceLabel}</div>
              <div class="product-card__actions">
                <button class="btn btn-secondary" data-review="${p.id}">Read review</button>
                <a
                  class="btn btn-primary"
                  href="${buildAmazonUrl(p.asin)}"
                  target="_blank"
                  rel="nofollow noopener sponsored"
                >Go to Amazon</a>
              </div>
            </div>
          </div>
        `;
        gridEl.appendChild(card);
      });

      countEl.textContent = `Showing ${list.length} products`;
      attachReviewHandlers();
    }

    // ------- Review modal -------

    const modal = document.getElementById("reviewModal");
    const modalTitle = document.getElementById("modalTitle");
    const modalBody = document.getElementById("modalBody");
    const modalAmazonLink = document.getElementById("modalAmazonLink");
    const modalCloseBtn = document.getElementById("modalCloseBtn");
    const modalCloseIcon = modal.querySelector(".modal-close");

    function openModal(product) {
      modalTitle.textContent = product.title + ` · Selected item from Amazon.it`;
      modalBody.textContent = product.review;
      modalAmazonLink.href = buildAmazonUrl(product.asin);
      modal.classList.add("is-open");
      modal.setAttribute("aria-hidden", "false");
    }

    function closeModal() {
      modal.classList.remove("is-open");
      modal.setAttribute("aria-hidden", "true");
    }

    function attachReviewHandlers() {
      const buttons = document.querySelectorAll("button[data-review]");
      buttons.forEach((btn) => {
        btn.onclick = () => {
          const id = Number(btn.getAttribute("data-review"));
          const product = products.find((p) => p.id === id);
          if (product) openModal(product);
        };
      });
    }

    modalCloseBtn.addEventListener("click", closeModal);
    modalCloseIcon.addEventListener("click", closeModal);
    modal.addEventListener("click", (e) => {
      if (e.target === modal) closeModal();
    });

    // ------- Event listeners -------

    chips.forEach((chip) => {
      chip.addEventListener("click", () => {
        chips.forEach((c) => c.classList.remove("is-active"));
        chip.classList.add("is-active");
        currentFilter = chip.getAttribute("data-filter");
        renderProducts();
      });
    });

    function applySearch() {
      currentQuery = searchInput.value || "";
      renderProducts();
    }

    searchBtn.addEventListener("click", applySearch);
    searchInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") applySearch();
    });

    // 初次渲染
    renderProducts();
  </script>
</body>
</html>
